(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{40735:function(e,t,n){"use strict";var r=n(85893),a=n(67294),l=(n(3773),n(47802)),i=n.n(l),c=n(96344),s=n.n(c),o=n(37721),u=n.n(o),d=n(68914),m=n.n(d);n(5152);i().registerLanguage("javascript",s()),i().registerLanguage("java",u()),i().registerLanguage("css",m()),t.Z=function(e){var t=e.id,l=e._ref,i=e.theme,c=e.value,s=e.onChange,o=(0,a.useState)(null),u=o[0],d=o[1];(0,a.useEffect)((function(){Promise.all([n.e(774),n.e(937),n.e(691),n.e(516),n.e(587)]).then(n.bind(n,88587)).then((function(e){var a=e.ReactQuill;d((0,r.jsx)(a,{id:t,ref:l,theme:i,modules:m,value:c,onChange:s})),Promise.all([n.e(571),n.e(900)]).then(n.bind(n,8900)).then((function(e){var t=e.propsManager;console.log(l),t.init(l.current)}))}))}),[]);var m={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"],["html-block","code-block"]]};return(0,r.jsx)(r.Fragment,{children:u})}},39859:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(85893),a=n(67294),l=n(33810),i=n(38130),c=n(32561),s=n(18828),o=(n(41664),n(3773),n(88554)),u=n(47802),d=n.n(u),m=n(96344),f=n.n(m),h=n(37721),b=n.n(h),v=n(68914),p=n.n(v),g=n(42153);n(5152),n(11330);var x=n(96156),j=n(39249);n(6406);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,x.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,l=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw l}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){var t=e.card,n=e.onEdit,l=(t.id,t.title),i=t.cData,s=(t.dop,t.dou,t.author,t.description),o=t.enable,u=(t.vCount,t.url,t.placement,(0,a.useState)(o)),m=u[0],f=u[1],h=(0,a.useRef)(null);(0,a.useEffect)((function(){document.querySelectorAll("pre").forEach((function(e){d().highlightElement(e)})),document.querySelectorAll(".card-data img:not(.img-thumbnail)").forEach((function(e,t){e.classList.add("img-thumbnail")})),b()})),window.onscroll=function(){b()};var b=function(){document.querySelectorAll("img[data-src]").forEach((function(e,t){if((0,c.vL)(e,!0)){var n=e.getAttribute("data-src");e.setAttribute("src",n)}}))};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:" col-md-3 mt-1 pz-card",ref:h,children:(0,r.jsx)("div",{className:"card  m-1 pz-post-card",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("div",{className:"btn-toolbar",role:"toolbar","aria-label":"Toolbar with button groups",children:(0,r.jsxs)("div",{className:"btn-group me-2",role:"group","aria-label":"First group",children:[(0,r.jsx)("button",{onClick:function(e){var n;n=t,(0,g.hd)("/deleteCard",{data:n,cb:function(e){var t=e.status,n=e.message;t&&h.current.remove(),j.Am.error(n)}})},type:"button",className:"btn  btn-outline-danger",children:(0,r.jsx)("i",{className:"fas  fa-trash-alt"})}),(0,r.jsx)("button",{onClick:function(e){n(e)},type:"button",className:"btn  btn-outline-info",children:(0,r.jsx)("i",{className:"fas  fa-edit"})}),(0,r.jsx)("button",{onClick:function(e){var n=!m,r=N(N({},t),{},{enable:n});(0,g.hd)("/updateCard",{data:r,cb:function(e){e.status;var t=e.message;j.Am.info(t),f(n)}})},type:"button",className:"btn "+(m?"btn-outline-success":"btn-outline-warning"),children:(0,r.jsx)("i",{className:"fas  "+(m?"fa-eye":"fa-eye-slash")})})]})}),(0,r.jsx)("h5",{className:"card-title",children:l}),(0,r.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:s}),(0,r.jsx)("div",{className:"card-text card-data",children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){var t=e.match(/<img(.*?)(\/>|>)/g);if(t){var n,r=w(t);try{for(r.s();!(n=r.n()).done;){var a=n.value,l=a.replace(/src\s*=/g,"data-src="),i=a.length,c=e.indexOf(a);e=e.substring(0,c)+l+e.substring(c+i,e.length)}}catch(o){r.e(o)}finally{r.f()}}var s=document.createElement("div");s.innerHTML=e,s.querySelectorAll("img").forEach((function(e,t){e.classList.add("img-thumbnail")})),e=s.innerHTML}return e}(i)}})})]})})})})}var E=n(42100),O=n(8336),C=n(40735);function A(e){var t=(0,a.useContext)(s.j),n=t.userInfo,u=(t.updateUserInfo,(0,a.useState)("")),m=(u[0],u[1],(0,a.useState)("")),f=(m[0],m[1],(0,a.useState)(!1)),h=f[0],b=f[1],v=(0,a.useRef)(null),p=(0,a.useState)(""),x=p[0],y=(p[1],(0,a.useState)(null)),N=y[0],w=y[1],S=(0,a.useState)([]),A=S[0],P=S[1],_=(0,a.useRef)(null),L=(0,a.useState)([]),T=L[0],F=(L[1],(0,a.useState)({})),q=F[0],D=F[1];(0,a.useEffect)((function(){(0,E._D)(),R();var e=(0,r.jsx)(C.Z,{id:"quillEditor",_ref:v,theme:"snow",value:"hello world",onChange:H});w(e),d().initHighlightingOnLoad()}),[]);var I={},H=function(e){},M=function(e,t){var n=function(e){var t=e.currentTarget;if(t){var n=t.type;return["checkbox"].indexOf(n)>-1?t.checked:t.value}return e}(e),r=q;t?r[t]=n:r[e.currentTarget.name]=n;D(r)},R=function(){(0,g.hd)("/fetchSideCards",{cb:function(e){P(e.cards)}})},Z=[{id:"0",label:"Select an option",value:""},{id:"1",label:"post",value:"post"},{id:"2",label:"posts",value:"posts"}].map((function(e){return(0,r.jsx)("option",{value:e.value,children:e.label},e.id)})),z=A.map((function(e){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(k,{card:e,onEdit:function(){!function(e){var t=v.current.editor;D(e),t.setText("");var n=t.getSelection(!0).index;for(var r in t.insertEmbed(n,"html-block",e.cData||""),e){var a=document.querySelector("#form-input [name="+r+"]");a&&("INPUT"===a.tagName&&["checkbox","radio"].indexOf(a.type)>-1?a.checked=e[r]:a.value=e[r])}}(e)}},e.id)})}));return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(l.Z,{children:[(0,r.jsxs)("main",{children:[(0,r.jsx)("h1",{className:"title",children:"editor Page"}),(0,c.xb)(n)?(0,r.jsx)(i.Z,{}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"container-fluid  position-relative",children:(0,r.jsxs)("div",{className:"row shadow-sm p-3 mb-5  rounded",children:[(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsxs)("div",{className:"col-12",children:[(0,r.jsx)("button",{type:"button",className:"m-1 p-1  bg-green-500",onClick:function(){!function(e){new o.bc(T,I).convert();var t=document.querySelector("#preview");t.innerHTML=v.current.getEditorContents(),t.querySelectorAll("pre").forEach((function(e){d().highlightBlock(e)})),b(!0)}()},children:"preview"}),(0,r.jsx)("button",{type:"button",className:"m-1 p-1  bg-green-500",onClick:function(){!function(e){var t=v.current,n=t.getEditorSelection(),r=n?n.index:0;x.length>0&&("html"===e||"code"===e?t.editor.clipboard.dangerouslyPasteHTML(r,x,"silent"):t.editor.insertText(r,x),t.editor.setSelection(r+1)),"clear"===e&&t.editor.setText("")}("clear")},children:"clear"})]}),(0,r.jsx)("div",{className:" editorInstance",style:{"min-height":"400px"},children:N})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("button",{className:"btn btn-secondary position-absolute  top-0 end-0",onClick:function(){b(!h)},children:"toggle preview"}),(0,r.jsxs)("div",{className:h?"d-block":"d-none",children:[(0,r.jsx)("h1",{className:" border-b-2 ",children:"Preview comes here"}),(0,r.jsx)("div",{ref:_,id:"preview"})]}),(0,r.jsxs)("div",{id:"form-input",className:h?"d-none":"d-block",children:[(0,r.jsx)("h1",{className:"text-xl",children:"Enter details here"}),(0,r.jsx)("div",{children:(0,r.jsxs)("form",{children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),(0,r.jsx)("input",{onBlur:function(e){M(e)},type:"text",id:"title",className:"form-control",name:"title",placeholder:"Enter title"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"url",className:"form-label",children:"URL"}),(0,r.jsx)("input",{onBlur:function(e){M(e)},type:"text",id:"url",name:"url",placeholder:"Enter url",className:"form-control"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"about",className:"form-label",children:"About"}),(0,r.jsx)("textarea",{onBlur:function(e){M(e)},id:"about",name:"description",rows:"3",className:"form-control resize-none",placeholder:"write something about it"})]}),(0,r.jsxs)("div",{className:"row g-3",children:[(0,r.jsxs)("div",{className:"col",children:[(0,r.jsx)("label",{htmlFor:"placement",className:"form-label",children:"Placement"})," ",(0,r.jsx)("select",{className:"form-control",id:"placement",name:"placement",onChange:function(e){M(e,"placement")},children:Z})]}),(0,r.jsxs)("div",{className:"col",children:[(0,r.jsx)("label",{htmlFor:"placement",className:"form-label",children:"Enable"})," ",(0,r.jsxs)("div",{className:"form-check form-switch",children:[(0,r.jsx)("input",{className:"form-check-input",id:"enable",name:"enable",onClick:function(e){M(e)},type:"checkbox"}),(0,r.jsx)("label",{className:"form-check-label",htmlFor:"enable",children:"is enable"})]})]})]}),(0,r.jsx)("div",{className:"mb-3 form-check"}),(0,r.jsx)("button",{type:"reset",className:"btn btn-danger",children:"Reset"}),(0,r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){!function(e){e.preventDefault();var t=v.current.getEditorContents(),n={cData:t=(0,c.z8)(t)};Object.assign(n,q);var r={data:n,cb:function(e){var t=e.message;j.Am.info(t),R()}};(0,g.GH)("public/saveCard",r)}(e)},children:"Save"})]})})]})]})]})}),(0,r.jsx)("div",{className:" row shadow-sm p-3 mb-5  rounded ",children:z})]})]}),(0,r.jsx)(O.F0,{})]})})}d().registerLanguage("javascript",f()),d().registerLanguage("java",b()),d().registerLanguage("css",p())},24416:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/cards",function(){return n(39859)}])}},function(e){e.O(0,[774,956,717,568,631,888,179],(function(){return t=24416,e(e.s=t);var t}));var t=e.O();_N_E=t}]);